generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// User model for authentication
model User {
  id        String   @id @default(uuid())
  username  String   @unique
  password  String
  nama      String
  role      Role     @default(OPD)
  status    Status   @default(AKTIF)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  // Relations
  profilInovasi ProfilInovasi[]

  @@map("users")
}

// Profil Inovasi model
model ProfilInovasi {
  id               String       @id @default(uuid())
  namaInovasi      String
  inovator         String
  jenisInovasi     JenisInovasi
  bentukInovasi    String
  tanggalUjiCoba   DateTime?
  tanggalPenerapan DateTime?
  rancangBangun    String       @db.Text
  manfaatInovasi   String       @db.Text
  hasilInovasi     String       @db.Text
  createdAt        DateTime     @default(now())
  updatedAt        DateTime     @updatedAt

  // Relations
  userId String
  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@map("profil_inovasi")
}

// Role enum
enum Role {
  ADMIN
  OPD
}

// Status enum
enum Status {
  AKTIF
  TIDAK_AKTIF
}

// Jenis Inovasi enum
enum JenisInovasi {
  DIGITAL
  NON_DIGITAL
}
